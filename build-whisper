#!/usr/bin/env bash

git clone https://github.com/ggml-org/whisper.cpp
cd whisper.cpp
source /opt/intel/oneapi/setvars.sh
cmake -B build \
  -DCMAKE_BUILD_TYPE=Release \
  -DCMAKE_CXX_COMPILER=icpx \
  -DCMAKE_C_COMPILER=icx \
  -DGGML_BLAS=1 \
  -DGGML_SYCL_F16=ON \
  -DGGML_SYCL=ON
cmake --build build -j --target whisper
